# Mock и Stub
это техники, используемые в модульном тестировании для изоляции тестируемого кода от внешних зависимостей. Они имитируют поведение этих зависимостей, позволяя фокусироваться на проверке логики тестируемого модуля. Ключевое различие между ними в уровне контроля и проверки:

## Stub:
`Что это:` Простой заглушка, возвращающая заранее определённые значения или выполняющая предопределённые действия. Он не проверяет, как вызывается заглушкаемый объект. Он просто предоставляет заранее подготовленный ответ.
`Цель:` Изолировать тестируемый код от внешних зависимостей, предоставляя контролируемый входной сигнал. Позволяет тестировать разные сценарии, не беспокоясь о побочных эффектах или непредсказуемом поведении реальных зависимостей (базы данных, внешние API, файлы и т.д.).
`Проверка:` Как правило, не включает в себя проверки. Просто предоставляет данные.
`Пример:` В тесте функции, которая взаимодействует с базой данных, stub может возвращать заранее подготовленный набор данных, имитируя запрос к базе данных, без реального обращения к ней.

## Mock:
`Что это:` Более сложная имитация объекта, которая позволяет проверять как тестируемый код взаимодействует с зависимостью. Он отслеживает вызовы методов и параметры, которые передаются в заглушкуемый объект.
`Цель:` Кроме изоляции, mock позволяет проверять взаимодействие тестируемого кода с зависимостями. Позволяет убедиться, что тестируемый код вызывает нужные методы с нужными параметрами. Помогает обнаружить ошибки в логике взаимодействия.
`Проверка:` Включает в себя проверки вызовов методов, переданных параметров и возвращаемых значений. Проверяет, что тестируемый код взаимодействует с зависимостью правильно.
`Пример:` В том же тесте функции, взаимодействующей с базой данных, mock может отслеживать, какие методы были вызваны (например, getUserById), с какими параметрами (например, id = 123) и может проверять, были ли эти вызовы совершены в правильном порядке. Он может симулировать исключения, чтобы проверить обработку ошибок.

`Вкратце:`
Используйте `stub`, если вам нужно просто подменить зависимость и контролировать входные данные.
Используйте `mock`, если вам нужно проверить взаимодействие тестируемого кода с зависимостью.
Выбор между `stub` и `mock` зависит от целей тестирования. Часто используются вместе. `Stub` может обеспечить простой входной сигнал, а `mock` – проверку взаимодействия.
